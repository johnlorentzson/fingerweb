{% extends "base.html" %}

{% block content %}
{% if user.member %}
<h1>Välkommen {{user.member.get_full_name}}</h1>

<p>
  Här kan du se data vi har om dig. Du kan läsa mer om vår
  <a href="https://www.stacken.kth.se/club/integritetspolicy/">integritetspolicy</a>
  på vår hemsida. Vill du ha någon information ändrad vad god och kontakta
  <a href="https://www.stacken.kth.se/club/">styrelsen</a>. Inaktiva konton kommer bli
  först inaktiverade, och sen borttagna.
</p>

{% if user.member.joined_years_ago > 8 %}
<p>
  Hi! You have been member of Stacken for quite some time, <strong>{{ user.member.joined_years_ago }}</strong> years!
  Stacken is mainly a club for students. We love to still have you as a member.
  Have you considered to become an <a href="https://www.stacken.kth.se/en/member/support/">support member</a>?
</p>
{% endif %}

<table class="usertable">
  <tr>
    <th>User</th>
    <td>{{ user.username }}</td>
  </tr>
  <tr>
    <th>Name</th>
    <td>{{ user.member.get_full_name }}</td>
  </tr>
  <tr>
    <th>Email address</th>
    <td>{{ user.member.email }}</td>
  </tr>
  <tr>
    <th>Phone</th>
    <td>{{ user.member.phone }}</td>
  </tr>
  <tr>
    <th>Address</th>
    <td>{{ user.member.address }}</td>
  </tr>
  <tr>
    <th>KTH account</th>
    <td>{{ user.member.kth_account }}</td>
  </tr>
  <tr>
    <th>Keycard number</th>
    <td>{{ user.member.keycard_number }}</td>
  </tr>
  <tr>
    <th>Date Joined</th>
    <td>{{ user.member.date_joined }}</td>
  </tr>
</table>

<h2>Tjänster på Stacken</h2>

<p>Här är en lista på tjänster på Stacken som du kan skapa ett konto på.</p>

<table class="servicetable">
  {% for service in services %}
  <tr>
    <th><a href="/services/{{service.name}}/">{{service}}</a></th>
    <td>{{service.shortdesc}}</td>
    <td class="manage-link"><a href="/services/{{service.name}}/">Manage</a></td>
  </tr>
  {% empty %}
  <tr>
    <td>No services found, <a href="/admin/services/service/add/">create them</a>!</td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>Your fingerweb account has no member object!</p>
{% endif %}
{% endblock %}
